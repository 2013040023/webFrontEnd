<!DOCTYPE html>

<html>

<head>
<meta charset="EUC-KR">
<meta name="viewport" content="initial-scale=1, width=device-width"/>
<title>Googlemap Test</title>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAgDTRWVLJ2VESoObaOHtEBQ_LeKh0aD48"
  type="text/javascript"></script>
<script>
	
	function fn(){
		navigator.geolocation.getCurrentPosition(successCallback,errorCallback);
	}
	
	function successCallback(position){
		lat=position.coords.latitude;
		lng=position.coords.longitude;
		console.log("위도: "+lat+" 경도: "+lng);
		mapfn(lat,lng);
	}
	
	function errorCallback(err){
		//	mydiv.innerText="실패:"+err;
	}
	
	function mapfn(lat,lng){
		//map_div=document.getElementById("map_div");
		//var latlng=new google.maps.LatLng(37.5569493,127.0028892);
		var latlng=new google.maps.LatLng(lat,lng);
		//ZOOM 숫자가 높을수록 자세하게, CENTER: 좌표 위치,
		op={zoom:15,center:latlng,
				mapTypeId:google.maps.MapTypeId.ROADMAP}
		//구글맵 지도객체(아래 div ID,옵션(위))에 표시하겠다
		gmap=new google.maps.Map(map_div,op);
		
		var marker=new google.maps.Marker({
			position:latlng,
			map:gmap,
			title:"집합장소"
		});
		
		}
	
</script>
</head>

<body>
	<button onclick="fn()">지도보기</button>
	<div id="map_div" style="width:600px; height:480px;"></div>
</body>
</html>